"use strict";(self.webpackChunkcovid_vaccination_status=self.webpackChunkcovid_vaccination_status||[]).push([[71],{7071:function(e,t,n){n.r(t),n.d(t,{default:function(){return fe}});var r=n(885),o=n(2791),i=n(6871),a=n(6030),s=n(9025),l=n(989),c=n(5854),u=n(9411),p=n(3366),f=n(7462),m=n(7326),d=n(4578),h=n(5545);function y(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function v(e,t,n){return null!=n[t]?n[t]:e.props[t]}function b(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],p=(0,o.isValidElement)(u)&&!u.props.in;!c||l&&!p?c||!l||p?c&&l&&(0,o.isValidElement)(u)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:v(s,"exit",e),enter:v(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:v(s,"exit",e),enter:v(s,"enter",e)})}})),i}var E=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},g=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind((0,m.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}(0,d.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,y(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:v(e,"appear",n),enter:v(e,"enter",n),exit:v(e,"exit",n)})}))):b(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,f.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,p.Z)(e,["component","childFactory"]),i=this.state.contextValue,a=E(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(h.Z.Provider,{value:i},a):o.createElement(h.Z.Provider,{value:i},o.createElement(t,r,a))},t}(o.Component);g.propTypes={},g.defaultProps={component:"div",childFactory:function(e){return e}};var O=g,A=n(2778),C=n(7890),S=n(9022);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var U=function(e){I(n,e);var t=B(n);function n(e){var r;return j(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(_(r)),r.onClose=r.onClose.bind(_(r)),r}return N(n,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){var e=this;this.props.message.sticky||(this.timeout=setTimeout((function(){e.onClose(null)}),this.props.message.life||3e3))}},{key:"onClose",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.onClose&&this.props.onClose(this.props.message)}},{key:"onClick",value:function(e){!this.props.onClick||c.p7.hasClass(e.target,"p-toast-icon-close")||c.p7.hasClass(e.target,"p-toast-icon-close-icon")||this.props.onClick(this.props.message)}},{key:"renderCloseIcon",value:function(){return!1!==this.props.message.closable?o.createElement("button",{type:"button",className:"p-toast-icon-close p-link",onClick:this.onClose},o.createElement("span",{className:"p-toast-icon-close-icon pi pi-times"}),o.createElement(u.H,null)):null}},{key:"renderMessage",value:function(){if(this.props.message){var e=this.props.message,t=e.severity,n=e.content,r=e.summary,i=e.detail,a=c.gb.getJSXElement(n,L(L({},this.props),{},{onClose:this.onClose})),s=(0,c.AK)("p-toast-message-icon pi",{"pi-info-circle":"info"===t,"pi-exclamation-triangle":"warn"===t,"pi-times":"error"===t,"pi-check":"success"===t});return a||o.createElement(o.Fragment,null,o.createElement("span",{className:s}),o.createElement("div",{className:"p-toast-message-text"},o.createElement("span",{className:"p-toast-summary"},r),i&&o.createElement("div",{className:"p-toast-detail"},i)))}return null}},{key:"render",value:function(){var e=this.props.message.severity,t=this.props.message.contentClassName,n=this.props.message.contentStyle,r=this.props.message.style,i=(0,c.AK)("p-toast-message",{"p-toast-message-info":"info"===e,"p-toast-message-warn":"warn"===e,"p-toast-message-error":"error"===e,"p-toast-message-success":"success"===e},this.props.message.className),a=this.renderMessage(),s=this.renderCloseIcon();return o.createElement("div",{ref:this.props.forwardRef,className:i,style:r,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:this.onClick},o.createElement("div",{className:(0,c.AK)("p-toast-message-content",t),style:n},a,s))}}]),n}(o.Component);M(U,"defaultProps",{message:null,onClose:null,onClick:null});var H=o.forwardRef((function(e,t){return o.createElement(U,Z({forwardRef:t},e))}));function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var F=0,G=function(e){I(n,e);var t=K(n);function n(e){var r;return j(this,n),(r=t.call(this,e)).state={messages:[]},r.onClose=r.onClose.bind(_(r)),r.onEntered=r.onEntered.bind(_(r)),r.onExited=r.onExited.bind(_(r)),r}return N(n,[{key:"show",value:function(e){if(e&&e){var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n].id=F++,t=[].concat(k(this.state.messages),k(e));else e.id=F++,t=this.state.messages?[].concat(k(this.state.messages),[e]):[e];0===this.state.messages.length&&c.P9.set("toast",this.container,C.ZP.autoZIndex,this.props.baseZIndex||C.ZP.zIndex.toast),this.setState({messages:t})}}},{key:"clear",value:function(){c.P9.clear(this.container),this.setState({messages:[]})}},{key:"onClose",value:function(e){var t=this.state.messages.filter((function(t){return t.id!==e.id}));this.setState({messages:t}),this.props.onRemove&&this.props.onRemove(e)}},{key:"onEntered",value:function(){this.props.onShow&&this.props.onShow()}},{key:"onExited",value:function(){0===this.state.messages.length&&c.P9.clear(this.container),this.props.onHide&&this.props.onHide()}},{key:"componentWillUnmount",value:function(){c.P9.clear(this.container)}},{key:"renderElement",value:function(){var e=this,t=(0,c.AK)("p-toast p-component p-toast-"+this.props.position,this.props.className);return o.createElement("div",{ref:function(t){e.container=t},id:this.props.id,className:t,style:this.props.style},o.createElement(O,null,this.state.messages.map((function(t){var n=o.createRef();return o.createElement(A.K,{nodeRef:n,key:t.id,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:e.onEntered,onExited:e.onExited,options:e.props.transitionOptions},o.createElement(H,{ref:n,message:t,onClick:e.props.onClick,onClose:e.onClose}))}))))}},{key:"render",value:function(){var e=this.renderElement();return o.createElement(S.h,{element:e,appendTo:this.props.appendTo})}}]),n}(o.Component);function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function Y(e,t){if(t&&("object"===W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}M(G,"defaultProps",{id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null});var Q,ee,te,ne=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,n,r,i=q(a);function a(){return X(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"itemClick",value:function(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}))}},{key:"renderHome",value:function(){var e=this;if(this.props.home){var t=(0,c.AK)("p-breadcrumb-home",{"p-disabled":this.props.home.disabled},this.props.home.className),n=(0,c.AK)("p-menuitem-icon",this.props.home.icon);return o.createElement("li",{className:t,style:this.props.home.style},o.createElement("a",{href:this.props.home.url||"#",className:"p-menuitem-link","aria-disabled":this.props.home.disabled,target:this.props.home.target,onClick:function(t){return e.itemClick(t,e.props.home)}},o.createElement("span",{className:n})))}return null}},{key:"renderSeparator",value:function(){return o.createElement("li",{className:"p-breadcrumb-chevron pi pi-chevron-right"})}},{key:"renderMenuitem",value:function(e){var t=this,n=(0,c.AK)(e.className,{"p-disabled":e.disabled}),r=e.label&&o.createElement("span",{className:"p-menuitem-text"},e.label),i=o.createElement("a",{href:e.url||"#",className:"p-menuitem-link",target:e.target,onClick:function(n){return t.itemClick(n,e)},"aria-disabled":e.disabled},r);if(e.template){var a={onClick:function(n){return t.itemClick(n,e)},className:"p-menuitem-link",labelClassName:"p-menuitem-text",element:i,props:this.props};i=c.gb.getJSXElement(e.template,e,a)}return o.createElement("li",{className:n,style:e.style},i)}},{key:"renderMenuitems",value:function(){var e=this;return this.props.model?this.props.model.map((function(t,n){var r=e.renderMenuitem(t),i=n===e.props.model.length-1?null:e.renderSeparator();return o.createElement(o.Fragment,{key:t.label+"_"+n},r,i)})):null}},{key:"render",value:function(){var e=(0,c.AK)("p-breadcrumb p-component",this.props.className),t=this.renderHome(),n=this.renderMenuitems(),r=this.renderSeparator();return o.createElement("nav",{id:this.props.id,className:e,style:this.props.style,"aria-label":"Breadcrumb"},o.createElement("ul",null,t,r,n))}}])&&J(t.prototype,n),r&&J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);te={id:null,model:null,home:null,style:null,className:null},(ee="defaultProps")in(Q=ne)?Object.defineProperty(Q,ee,{value:te,enumerable:!0,configurable:!0,writable:!0}):Q[ee]=te;var re=n(919),oe=n(184);function ie(e){var t=e.value,n=e.onClickFunction,r=e.spacingClasses;return(0,oe.jsx)(re.z,{label:t,onClick:n,className:r})}var ae=o.memo(ie),se=n(705),le={VACCINATED_POPULATION_LIMIT_MESSAGE:"Vaccinated Population can't be greater than Total Population",MAX_DOSES_AVAILABLE_MESSAGE:"Doses Available can't be greater than 5000",DATA_SAVED_MESSAGE:"City Details Saved Successfully"},ce=n(2807),ue=n(5473),pe="editcity_breadcrumbUnderline__bDCCo";function fe(){var e,t=(0,o.useRef)(null),n=(0,i.TH)().state,c=n&&n.rowData,u=n&&n.cityList,p=n&&n.country,f=n&&n.state,m=(0,o.useState)(c),d=(0,r.Z)(m,2),h=d[0],y=d[1],v=(0,o.useState)(u),b=(0,r.Z)(v,2),E=b[0],g=b[1],O=function(e,n){var r=JSON.parse(JSON.stringify(E)),o=r[E&&E.findIndex((function(e){return e.id===h.id}))],i=!1;"vaccinatedPopulation"===n?e>o.totalPopulation&&(i=!0,t&&t.current.show({severity:"error",summary:"Error",detail:le.VACCINATED_POPULATION_LIMIT_MESSAGE,life:3e3}),o[n]=o.totalPopulation,g(r)):"dosesAvailable"===n&&e>se.Z.MAX_DOSES_AVAILABLE_COUNT&&(i=!0,t&&t.current.show({severity:"error",summary:"Error",detail:le.MAX_DOSES_AVAILABLE_MESSAGE,life:3e3}),o[n]=se.Z.MAX_DOSES_AVAILABLE_COUNT,g(r)),!1===i&&(o[n]=e,g(r))},A=(0,a.I0)(),C=(0,i.s0)();e=(0,a.v9)((function(e){return e&&e.visualization&&e.visualization.countriesVaccinationStatus}));var S=[];E&&E.forEach((function(e){S.push({label:e.city,id:e.id,city:e.city,totalPopulation:e.totalPopulation,vaccinatedPopulation:e.vaccinatedPopulation,dosesAvailable:e.dosesAvailable,command:function(e){y({id:e.item.id,city:e.item.city,totalPopulation:e.item.totalPopulation,vaccinatedPopulation:e.item.vaccinatedPopulation,dosesAvailable:e.item.dosesAvailable})},className:"".concat(h.id==e.id?pe:"")})}));var P={icon:"pi pi-home",command:function(){return C(ue.Z.HOME_PAGE)}};return(0,oe.jsxs)("div",{children:[(0,oe.jsx)(G,{ref:t}),(0,oe.jsx)(ne,{model:S,home:P}),(0,oe.jsx)("div",{className:"container",children:(0,oe.jsx)("div",{className:"row justify-content-center",children:(0,oe.jsxs)("div",{className:"col-4",children:[(0,oe.jsx)("h2",{children:se.Z.EDIT_PAGE_HEADER}),(0,oe.jsxs)("form",{children:[(0,oe.jsx)("label",{className:"mt-2",children:se.Z.CITY_NAME}),(0,oe.jsx)(s.o,{value:E&&E.filter((function(e){return e.id===h.id}))[0].city||"",onChange:function(e){return O(e.target.value,"city")},className:"d-block mb-3"}),(0,oe.jsx)("label",{className:"mt-2",children:se.Z.TOTAL_POPULATION}),(0,oe.jsx)(l.R,{value:E&&E.filter((function(e){return e.id===h.id}))[0].totalPopulation||0,onChange:function(e){return O(e&&e.value,"totalPopulation")},className:"d-block mb-3",inputId:"integeronly"}),(0,oe.jsx)("label",{className:"mt-2",children:se.Z.VACCINATED_POPULATION}),(0,oe.jsx)(l.R,{value:E&&E.filter((function(e){return e.id===h.id}))[0].vaccinatedPopulation||0,onChange:function(e){return O(e&&e.value,"vaccinatedPopulation")},max:E&&E.filter((function(e){return e.id===h.id}))[0].totalPopulation||0,className:"d-block mb-3",inputId:"integeronly"}),(0,oe.jsx)("label",{className:"mt-2",children:se.Z.DOSES_AVAILABLE}),(0,oe.jsx)(l.R,{value:E&&E.filter((function(e){return e.id===h.id}))[0].dosesAvailable||0,onChange:function(e){return O(e&&e.value,"dosesAvailable")},max:se.Z.MAX_DOSES_AVAILABLE_COUNT,className:"d-block mb-3",inputId:"integeronly"}),(0,oe.jsx)(ae,{value:"Save",disable:!1,onClickFunction:function(n){return function(n){n.preventDefault();var r=JSON.parse(JSON.stringify(e));r[p.value][f.value]=E,A(ce.I.getCountriesVaccinationStatusSuccess(r)),t&&t.current.show({severity:"success",summary:"Success",detail:le.DATA_SAVED_MESSAGE,life:3e3})}(n)},spacingClasses:""})]})]})})})]})}}}]);
//# sourceMappingURL=71.8787093c.chunk.js.map